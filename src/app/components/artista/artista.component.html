<app-loading *ngIf="loading"></app-loading>

<div class="row m-5 animated fadeIn" *ngIf="!loading">

	<div class="col-2">
		<img [src]="artista.images | noimage" alt="" class="img-thumbnail img-circle">
	</div>

	<div class="col">
		<h3>{{artista.name}}</h3>
		<p>
			<a [href]="artista.external_urls.spotify" target="_blank" class="badge badge-light">
				Ir a la página del artista.
			</a>
		</p>
	</div>

	<div class="col-4 text-right">
		<button routerLink="/search" class="btn btn-danger">
			Volver atrás
		</button>
	</div>
</div>

<div class="row m-5">
	<div class="col">

		<table class="table">
			<thead>
				<th>Foto</th>
				<th>Album</th>
				<th>Canción</th>
				<th>Escuchar Canción</th>
			</thead>

			<tbody>
				<tr *ngFor="let track of tracks">
					<td> <img [src]="track.album.images | noimage" class="img-thumb"> </td>
					<td> {{track.album.name}} </td>
					<td> {{track.name}} </td>
					<td> 
						<!-- Versión audio de HTML5 (solo previa)
							<audio [src]="track.preview_url" controls></audio> 
						-->

						<!-- Versión Widget de Spotify (cancion previa y completa) -->

						<iframe [src]="track.uri | domseguro" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>

						

					</td>

				</tr>
			</tbody>
		</table>
	
	</div>
</div>
